{"ast":null,"code":"import _slicedToArray from\"D:/\\u041C\\u043E\\u0438 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/\\u042F \\u0443 \\u043C\\u0430\\u043C\\u044B \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0441\\u0442/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';// import ReactDOM from 'react-dom/client';\nimport AddPost from'./components/addPost';import Post from'./components/Post';import'./Review.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Review(_ref){var inputText=_ref.inputText;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),postsReviews=_useState2[0],setPostsReviews=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),inputValueReview=_useState4[0],setInputValueReview=_useState4[1];var handleInputChangeReview=function handleInputChangeReview(event){setInputValueReview(event.target.value);};var handleSubmitReview=function handleSubmitReview(event){if(event.key==='Enter'){event.preventDefault();// console.log(inputValueReview)\nsendDataToServerReview();// useEffect(() => {}\ngetValueReview();setInputValueReview('');}};var sendDataToServerReview=function sendDataToServerReview(){fetch('http://localhost:3000/api/review',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({review:inputValueReview,login:inputText})}).then(function(response){return response.json();}).catch(function(error){console.error('Ошибка:',error);});};function getValueReview(){// useEffect(() => {\naxios.get('http://localhost:3000/api/review')// .then((response) => response.json())\n.then(function(response){var reversedMessages=response.data.reverse();setPostsReviews(reversedMessages);console.log(reversedMessages);});}useEffect(function(){getValueReview();},[]);return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"review_wrapper\",children:[/*#__PURE__*/_jsx(AddPost// addPost={addPost} \n,{inputValueReview:inputValueReview,handleInputChangeReview:handleInputChangeReview,handleSubmitReview:handleSubmitReview}),/*#__PURE__*/_jsx(\"section\",{className:\"posts-container\",children:/*#__PURE__*/_jsx(Post,{postsReviews:postsReviews})})]})});};// это строчка я хз за что отвечает но она мешает и зачем то добовляет блок который все портит\n// ReactDOM.createRoot(document.getElementById('root')).render(<Review />);\nexport default Review;","map":{"version":3,"names":["useState","useEffect","AddPost","Post","axios","jsx","_jsx","jsxs","_jsxs","Review","_ref","inputText","_useState","_useState2","_slicedToArray","postsReviews","setPostsReviews","_useState3","_useState4","inputValueReview","setInputValueReview","handleInputChangeReview","event","target","value","handleSubmitReview","key","preventDefault","sendDataToServerReview","getValueReview","fetch","method","headers","body","JSON","stringify","review","login","then","response","json","catch","error","console","get","reversedMessages","data","reverse","log","children","className"],"sources":["D:/Мои проекты/Я у мамы программист/my-app/src/pages/review/Review.jsx"],"sourcesContent":["\r\nimport { useState, useEffect } from 'react';\r\n// import ReactDOM from 'react-dom/client';\r\nimport AddPost from './components/addPost';\r\nimport Post from './components/Post';\r\nimport './Review.css';\r\nimport axios from 'axios';\r\n\r\nfunction Review({ inputText }) {\r\n\r\n  const [postsReviews, setPostsReviews] = useState([]);\r\n  const [inputValueReview, setInputValueReview] = useState('');\r\n\r\n  const handleInputChangeReview = (event) => {\r\n    setInputValueReview(event.target.value);\r\n  };\r\n  const handleSubmitReview = (event) => {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      // console.log(inputValueReview)\r\n      sendDataToServerReview();\r\n      // useEffect(() => {}\r\n      getValueReview()\r\n      setInputValueReview('');\r\n    }\r\n  };\r\n  const sendDataToServerReview = () => {\r\n    fetch('http://localhost:3000/api/review', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ review: inputValueReview, login: inputText }),\r\n\r\n    })\r\n      .then((response) => response.json())\r\n\r\n      .catch((error) => {\r\n        console.error('Ошибка:', error);\r\n      });\r\n  };\r\n  function getValueReview() {\r\n      // useEffect(() => {\r\n    axios\r\n      .get('http://localhost:3000/api/review')\r\n      // .then((response) => response.json())\r\n      .then((response) => {\r\n        const reversedMessages = response.data.reverse();\r\n        setPostsReviews(reversedMessages)\r\n\r\n        console.log(reversedMessages)\r\n\r\n      })\r\n  }\r\n  useEffect(() => {\r\n    getValueReview();\r\n  }, [])\r\n\r\n  return (\r\n    <main>\r\n      <div className='review_wrapper'>\r\n        <AddPost\r\n          // addPost={addPost} \r\n          inputValueReview={inputValueReview}\r\n          handleInputChangeReview={handleInputChangeReview}\r\n          handleSubmitReview={handleSubmitReview}\r\n        />\r\n        <section className=\"posts-container\">\r\n          {/* {postsReviews.map((postsReview) => */}\r\n          <Post\r\n            postsReviews={postsReviews}\r\n          />\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n// это строчка я хз за что отвечает но она мешает и зачем то добовляет блок который все портит\r\n// ReactDOM.createRoot(document.getElementById('root')).render(<Review />);\r\nexport default Review;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}